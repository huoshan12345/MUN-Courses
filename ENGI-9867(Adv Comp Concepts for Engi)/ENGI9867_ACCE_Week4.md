# NFA & DFA

#### Kleene Theorem  

For every NFA an equivalent DFA can be constructed.

For the NFA M = ($Σ,S,s_0,Δ,F$) our aim is to...

- In (q,u,q') ∈ Δ there shouldn’t be any u = λ and |u| > 1
- A transition should be present for all symbols in all states
- There shouldn’t be more than one transitions for each configuration.

## NFA/DFA equivalency-Phase 1

Interim steps are populated to eliminate the |u| > 1 in (q,u,q') of Δ.

This expansion transforms Δ into Δ' by replacing triples of (q,u,q') with triples like $(q,σ_1,p_1),(p_1,σ_2,p_2),...,(p_{k-1},σ_k,q')$. A new machine is formed M' = $(Σ,S',s_0,Δ',F')$ where $F' \equiv F$ and $s_0' \equiv s_0$

## NFA/DFA equivalency-Phase 2

#### Reachability set of a state

R(q) = { p ∈ S' | (q,ω) $⊢_{M'}^{\ast}$ (p,ω) where ω ∈ $Σ^{\ast}$ }  

$R(q_0) = \{q_0,q_1,q_2,q_3\}$  
$R(q_1) = \{q_1,q_2,q_3\}$  
$R(q_2) = \{q_2\}$  
$R(q_3) = \{q_3\}$  
$R(q_4) = \{q_3,q_4\}$  

Constructing an equivalent deterministic machine:   
$M'' = (S'',Σ,δ'',F'')$  
$S'' \subseteq φ(S') = 2^{S'}$  
$s''_0 = R(s'_0)$ The states that can be reached from the initial state by λ transitions  
$F'' = \{ Q \subseteq S'\ |\ Q ∩ F' ≠ ∅ \}$

Constructing an equivalent deterministic machine, definition of $δ'': ∀Q \subseteq S' ∧ ∀σ ∈ Σ$  
$δ''(Q,σ) = U_p\{ R(p)\ |\ ∀q ∈ Q ∧ ∀p ∈ S' ∧ ∀(q,σ,p) ∈ Δ' \}$  
Let’s write all the possible triplets except empty string:  
Transitions with a: $(q_1,a,q_0),(q_1,a,q_4),(q_3,a,q_4)$,
Transitions with b: $(q_0,b,q_2),(q_2,b,q_4)$

Let’s build $δ''$ using those transitions:  
$s''_0 = R(q_0) = \{q_0,q_1,q_2,q_3\}(d_0)$  
$δ''(d_0,a) = R(q_0) ∪ R(q_4) = \{q_0,q_1,q_2,q_3,q_4\}(d_1)$  
$δ''(d_0,b) = R(q_2) ∪ R(q_4) = \{q_2,q_3,q_4\}(d_2)$  
$δ''(d_1,a) = \{q_0,q_1,q_2,q_3,q_4\}(d_1)$  
$δ''(d_1,b) = \{q_2,q_3,q_4\}(d_2)$  
$δ''(d_2,a) = R(q_4) = \{q_3,q_4\}(d_3)$  
$δ''(d_2,b) = R(q_4) = \{q_3,q_4\}(d_3)$  
$δ''(d_3,a) = R(q_4) = \{q_3,q_4\}(d_3)$  
$δ''(d_3,b) = ∅(d_4)$  
$δ''(d_4,a) = δ''(d_4,b) = ∅(d_4)$

NOTE: $d_4$ is a dead state  

## Recap

#### Kleene Theorem

For every NFA an equivalent DFA can be constructed.

For the NFA M = ($Σ,S,s_0,Δ,F$) our aim is to...

- In (q,u,q') ∈ Δ there shouldn’t be any u = λ and |u| > 1
- A transition should be present for all symbols in all states
- There shouldn’t be more than one transitions for each configuration.

## Example for NFA/DFA equivalency

An NFA recognizing the language $L(M) = (x ∨ y)^{\ast}yy^+$. Let’s build an equivalent DFA.  

$R(q_0) = \{q0\}$  
$R(q_1) = \{q1\}$  
$R(q_2) = \{q2\}$  

$Δ' = \{(q_0,x,q_0),(q_0,y,q_0),(q_0,y,q_1),(q_1,y,q_2),(q_2,y,q_2)\}$  

$s''_0 = R(q_0) = \{q_0\}$  
$δ(s''_0,x) = R(q_0) = \{q_0\}$  
$δ(s''_0,y) = R(q_0) ∪ R(q_1) = \{q_0,q_1\}$  
$δ(\{q_0,q_1\},x) = R(q_0) = \{q_0\}$  
$δ(\{q_0,q_1\},y) = R(q_0) ∪ R(q_1) ∪ R(q_2) = \{q_0,q_1,q_2\}$  
$δ(\{q_0,q_1,q_2\},x) = R(q_0) = \{q_0\}$  
$δ(\{q_0,q_1,q_2\},y) = R(q_0) ∪ R(q_1) ∪ R(q_2) = \{q_0,q_1,q_2\}$  

$L(M) = ((λ ∨ y ∨ yy^+)x)^{\ast}yy^+$

NOTE: $L(M) = (x ∨ y)^{\ast}yy^+$

## Example#3

For the given automata,
1. Heuristically derive the regular expression for the language recognized by the NFA whose state transition diagram is given aside.
2. Build the equivalent DFA for this NFA.
3. Produce the Type-3 grammar recognized by the DFA you found in (2).

state-transition relation:  
$(q_0,aa,q_2)$  
$(q_0,a,q_1)$  
$(q_1,bb,q_3)$  
$(q_1,λ,q_2)$  
$(q_2,b,q_3)$  
$(q_3,λ,q_0)$  
start: $q_0$
final: $q_3$

## Example#4

Consider the following grammar:  
A → AaA  
A → b

1. What is the type of the grammar according to the Chomsky hierarchy? Why?
2. Find the language generated by the grammar.
3. Design another grammar with a more restrictive type that generates the same language you found in (2).  
(e.g., if the given grammar is Type-1, then design a Type-2 or Type-3 grammar.)
